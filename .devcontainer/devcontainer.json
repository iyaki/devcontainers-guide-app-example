{
	"name": "Helloer",
	"image": "dunglas/frankenphp:1-php8.4",

	"overrideCommand": false,

	"workspaceMount": "source=${localWorkspaceFolder},target=/app,type=bind,consistency=cached",
	"workspaceFolder": "/app",

	"forwardPorts": [8080],

	"containerEnv": {
		"SERVER_NAME": "http://localhost:8080",
		"CADDY_GLOBAL_OPTIONS": "auto_https off" // Disable automatic HTTPS
	},

	"features": {
		"ghcr.io/devcontainers/features/git:1": {}
	},

	"postCreateCommand": {
		"install xdebug": "pecl install xdebug && docker-php-ext-enable xdebug",
		"install composer": ".devcontainer/composer.sh"
	},

	"customizations": {
		"vscode": {
			"settings": {
				"files.eol": "\n",
				"files.trimFinalNewlines": true,
				"intelephense.completion.fullyQualifyGlobalConstantsAndFunctions": true,
				"intelephense.completion.triggerParameterHints": true,
				"intelephense.environment.shortOpenTag": false,
				"php.suggest.basic": false
			},
			"extensions": [
				"bmewburn.vscode-intelephense-client",
				"xdebug.php-debug"
			]
		}
	}
}
